<!-- Begin Trip Activities Form Container -->
<div class="publish_trip_activities_container">
  <% if ((@trip_activity and @trip_activity.errors.any?) or (@activity and @activity.errors.any?) or (@activity_detail and @activity_detail.errors.any?)) %>
    <div id="error_explanation">
      <h2><%#= pluralize(@trip_activity.errors.count, "error") %> prohibited this activity from being saved:</h2>

      <ul>
        <% if @trip_activity %>
          <% @trip_activity.errors.messages.each do |attr, msg| %>
            <li><%= msg.first %></li>
          <% end %>
        <% end %>
        <% if @activity %>
          <% @activity.errors.messages.each do |attr, msg| %>
            <li><%= msg.first %></li>
          <% end %>
        <% end %>
        <% if @activity_detail %>
          <% @activity_detail.errors.messages.each do |attr, msg| %>
            <li><%= msg.first %></li>
          <% end %>
        <% end %>
      </ul>
    </div>
  <% end %>

  <input id="activityvenue" type="text" name="activityvenue" value="" />
  <input type="text" placeholder="City">
  </br>

  <div class = "publish_trip_selected_activity_desc">Activity Name and Address Here Link to Foursquare Page</div>
  <div class ="publish_trip_activity_pic_select">Picture Selection Pic and Button Here</div>
  </br>
  <div class = "publish_trip_image">
    <div class = "rightcaption">
      <!--specifying the url allows for specifying which action in the trip_activities controller to hit -->
      <%= form_for([@trip, @trip_activity], :url => @update == 0 ? publish_trip_activity_create_trip_trip_activities_url(:trip_id => @trip.id) : publish_trip_activity_update_trip_trip_activity_url(:trip_id => @trip.id), :html => {:multipart => true}) do |f| %>        
        <input type="text" placeholder="Must See?"> <br/>
        
        <%= f.label :cant_miss, 'You have to do this' %>: <%= f.check_box :cant_miss %> </br>
        
        <%= hidden_field_tag :trip_activity_latlong, @latlong %>
        <%= hidden_field_tag :trip_id, @trip_activity.trip_id %>
        <%= f.hidden_field :activity_day, :value => @trip_activity.activity_day.blank? ? '1' : @trip_activity.activity_day %>
        <%= f.hidden_field :activity_time_type,  :value => @trip_activity.activity_time_type.blank? ? '1' : @trip_activity.activity_time_type %>
        <input type="hidden" id="venue_id" name="venueid" value=<%= params[:venueid].nil?  ? '' : params[:venueid] %> ></br>
        <input type="text" name="duration" placeholder="Duration" value=<%= params[:duration].nil?  ? '' : params[:duration] %> ></br>
        <textarea rows="4" name="description" placeholder="User Description"><%= params[:description].nil?  ? '' : params[:description] %></textarea></br>
        <textarea rows="3" name="quick_tip" placeholder="Quick Tip"><%= params[:quick_tip].nil?  ? '' : params[:quick_tip] %></textarea>
      
        <%= fields_for @trip_activity.self_trip_activity_photos.new do |trip_image| %>
          <%= trip_image.label :self_photo, "Upload Activity Image:" %>
          <%= trip_image.file_field :self_photo, name: "self_trip_activity_photos[self_photo]" %>
        <% end %>

        <% if !@trip_activity.self_trip_activity_photos.first.blank? and !@trip_activity.self_trip_activity_photos.first.self_photo.blank? %>
          <div>
            <%= image_tag(@trip_activity.self_trip_activity_photos.first.self_photo_url(:thumb), {:size => '100x100'}) %>
          </div>
        <% end %>      

        <input type="button" id="trip_activity_form_button" value="Go" />
      <% end %>

    </div>
  </div>

</div>
<!-- Begin Trip Activities Form Container -->
